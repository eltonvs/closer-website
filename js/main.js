"use strict";$(function(){if(!$("#dashboard").length)return!1;var t=$("#user-name"),e=$("#products-list"),r=$("#register-product"),n=$("#loading-div").hide();r.submit(function(t){t.preventDefault(),$.post(CONFIG.server.register_product_url,r.serialize(),function(t){return a()},"json")});var a=function(){$.ajax({type:"GET",url:CONFIG.server.dash_url,beforeSend:function(){return n.show()},success:function(t){t?(o(t.name),s(t.products)):do_logout(),n.fadeOut()},dataType:"JSON"})};a();var o=function(e){return t.text(e)},s=function(t){if(e.removeClass(),t&&t.length){var r="<ul>";t.forEach(function(t){return r+="<li>"+t.name+' - <a href="#" data-remove-product="'+t.name+'">Remove Product</a></li>'}),r+="</ul>",e.html(r),$("a[data-remove-product]").click(function(t){t.preventDefault();var e=$(this);$.post(CONFIG.server.remove_product_url,{name:e.data("remove-product")},function(t){return a()},"json")})}else e.addClass("alert alert-info"),e.text("No products found. Register a new product!")};!function(t){var e=document.getElementById("canvas").getContext("2d");new Chart(e,{type:"line",data:{labels:["14/06","15/06","16/06","17/06","18/06","19/06","20/06"],datasets:[{label:"# of Visitors",data:[12,19,23,15,17,20,18],backgroundColor:["rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255,99,132,1)"],borderWidth:1},{label:"# of Buyers",data:[6,17,15,7,7,15,12],backgroundColor:["rgba(54, 162, 235, 0.2)"],borderColor:["rgba(54, 162, 235, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}()}),$(function(){if(!$("#login-signup-modal").length)return!1;var t=$("#modal-login-signup-title"),e=$("#login-form"),r=$("#signup-form"),n=$("#forms-container"),a=$("#login-alert"),o=$("#signup-alert"),s=$("#login-signup-link");$.get(CONFIG.server.check_url,function(t){t.status&&(s.text("Dashboard"),s.attr("href","dashboard.html"),s.attr("data-target",!1),s.attr("data-toggle",!1))},"json");var i=function(e,r,a){t.text(a),s.text(a),n.css("height",e.height()),e.fadeOut("fast",function(){return n.animate({height:r.height()},"fast",function(){return r.fadeIn("fast")})})},l=function(t){a.removeClass(),t.status?(a.addClass("alert alert-success").text("User Logged with success! Redirecting..."),window.location.replace("dashboard.html")):(a.addClass("alert alert-danger").html("<strong>Login Failed</strong>: "+t.error),n.css("height",e.height()))},u=function(t){o.removeClass(),t.status?o.addClass("alert alert-success").text("User Registered with success!"):o.addClass("alert alert-danger").html("<strong>Register Failed</strong>: "+t.error),n.css("height",r.height())};e.submit(function(t){t.preventDefault(),$.post(CONFIG.server.auth_url,e.serialize(),function(t){return l(t)},"json")}),r.submit(function(t){t.preventDefault(),$.post(CONFIG.server.register_url,r.serialize(),function(t){return u(t)},"json")}),$("#signup_btn").click(function(){return i(e,r,"Sign up")}),$("#login_btn").click(function(){return i(r,e,"Login")})});var do_logout=function(){$.get(CONFIG.server.logout_url,function(t){t.status&&window.location.replace("index.html")},"json")};$(function(){var t=$("#logout-link");if(!t.length)return!1;t.click(function(t){t.preventDefault(),do_logout()})}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=$(this.hash);(e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length&&(t.preventDefault(),$("html, body").animate({scrollTop:Math.max(e.offset().top-25,0)},1e3))}});
//# sourceMappingURL=main.js.map
